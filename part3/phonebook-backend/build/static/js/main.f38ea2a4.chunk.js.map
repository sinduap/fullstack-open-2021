{"version":3,"sources":["components/add-contact-form.component.jsx","components/button.component.jsx","components/person-list.component.jsx","components/filter-field.component.jsx","config.js","helpers.js","components/notification.component.jsx","App.js","index.js"],"names":["AddContactForm","onSubmit","name","number","onNumberChange","onNameChange","value","onChange","required","type","Button","text","onDelete","onClick","PersonList","filteredPersons","map","idx","id","FilterField","onSearchChange","API_URL","getPersons","a","axios","baseURL","method","response","data","console","error","deletePerson","delete","addPerson","person","post","editPerson","put","Notification","message","className","App","useState","persons","setPersons","setName","setNumber","search","setSearch","setMessage","loadPersons","handleSubmit","event","preventDefault","find","p","toLowerCase","trim","window","confirm","updatedPerson","setTimeout","newPerson","handleDelete","deletedId","filter","useEffect","clearTimeout","includes","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f38ea2a4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst AddContactForm = ({\r\n  onSubmit,\r\n  name,\r\n  number,\r\n  onNumberChange,\r\n  onNameChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name:\r\n        <input name='name' value={name} onChange={onNameChange} required />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input\r\n          name='number'\r\n          value={number}\r\n          onChange={onNumberChange}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddContactForm\r\n","import React from \"react\";\r\n\r\nconst Button = ({ text, onDelete }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onDelete}>\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react'\r\nimport Button from './button.component'\r\n\r\nconst PersonList = ({ filteredPersons, onDelete }) => {\r\n  return (\r\n    <div>\r\n      {filteredPersons.map(({ name, number, id }, idx) => (\r\n        <div key={idx}>\r\n          {name} {number}\r\n          <Button text='delete' onDelete={() => onDelete(id, name)} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonList\r\n","import React from 'react';\r\n\r\nconst FilterField = ({ onSearchChange }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with:\r\n      <input type='search' name='filter' onChange={onSearchChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterField;\r\n","export const API_URL = 'api/persons'\r\n","import { API_URL } from './config'\r\nimport axios from 'axios'\r\n\r\nexport const getPersons = async () => {\r\n  try {\r\n    const response = await axios({\r\n      baseURL: API_URL,\r\n      method: 'get',\r\n    })\r\n    return response.data\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const deletePerson = async id => {\r\n  try {\r\n    const response = await axios.delete(`${API_URL}/${id}`)\r\n    return response.data\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const addPerson = async person => {\r\n  try {\r\n    const response = await axios.post(API_URL, person)\r\n    return response.data\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const editPerson = async (id, person) => {\r\n  try {\r\n    const response = await axios.put(`${API_URL}/${id}`, person)\r\n    return response.data\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport './notification.style.css';\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className='success'>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react'\r\nimport AddContactForm from './components/add-contact-form.component'\r\nimport PersonList from './components/person-list.component'\r\nimport FilterField from './components/filter-field.component'\r\nimport { getPersons, addPerson, deletePerson, editPerson } from './helpers'\r\nimport Notification from './components/notification.component'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [name, setName] = useState('')\r\n  const [number, setNumber] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const loadPersons = async function () {\r\n    const persons = await getPersons()\r\n    setPersons(persons)\r\n  }\r\n\r\n  const handleSubmit = async function (event) {\r\n    event.preventDefault()\r\n    setName('')\r\n    setNumber('')\r\n\r\n    let person = persons.find(\r\n      p => p.name.toLowerCase() === name.toLowerCase().trim()\r\n    )\r\n\r\n    // if person already on contact\r\n    if (\r\n      person &&\r\n      !window.confirm(`Are you want to update ${person.name} contact?`)\r\n    )\r\n      return\r\n\r\n    if (person) {\r\n      const updatedPerson = await editPerson(person.id, {\r\n        ...person,\r\n        number: number.trim(),\r\n      })\r\n      setPersons([\r\n        ...persons.map(p => (p.id === updatedPerson.id ? updatedPerson : p)),\r\n      ])\r\n      setMessage('Person has been succesfully updated')\r\n      setTimeout(() => setMessage(null), 2000)\r\n    }\r\n\r\n    // if person is not already on contact\r\n    if (!person) {\r\n      person = {\r\n        name: name.trim(),\r\n        number: number.trim(),\r\n      }\r\n      const newPerson = await addPerson(person)\r\n      setPersons([...persons, newPerson])\r\n      setMessage('Person has been succesfully added')\r\n      setTimeout(() => setMessage(null), 2000)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async function (id, name) {\r\n    const confirmationMessage = window.confirm(\r\n      `Are you want to delete ${name} contact?`\r\n    )\r\n    if (!confirmationMessage) return\r\n    try {\r\n      const { id: deletedId } = await deletePerson(id)\r\n      setPersons([...persons.filter(p => p.id !== deletedId)])\r\n      setMessage('Deleted successfully')\r\n      setTimeout(() => setMessage(null), 2000)\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadPersons()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!message) {\r\n      return\r\n    }\r\n\r\n    const id = setTimeout(() => {\r\n      setMessage(null)\r\n    }, 2000)\r\n\r\n    return () => {\r\n      if (id) {\r\n        clearTimeout(id)\r\n      }\r\n    }\r\n  }, [message])\r\n\r\n  const handleNameChange = function (event) {\r\n    setName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = function (event) {\r\n    setNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = function (event) {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const filteredPersons = persons.filter(person =>\r\n    person.name.toLowerCase().includes(search.toLowerCase().trim())\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <FilterField onSearchChange={handleSearchChange} />\r\n      <h3>Add a new</h3>\r\n      <AddContactForm\r\n        onNumberChange={handleNumberChange}\r\n        onNameChange={handleNameChange}\r\n        name={name}\r\n        number={number}\r\n        onSubmit={handleSubmit}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <PersonList filteredPersons={filteredPersons} onDelete={handleDelete} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}