(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(22),c=n.n(a),u=n(11),o=n(13),s=n(2),i=n.n(s),b=n(4),f=n(5),l=n(0),p=function(e){var t=e.onSubmit,n=e.name,r=e.number,a=e.onNumberChange,c=e.onNameChange;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsxs)("div",{children:["name:",Object(l.jsx)("input",{name:"name",value:n,onChange:c,required:!0})]}),Object(l.jsxs)("div",{children:["number:",Object(l.jsx)("input",{name:"number",value:r,onChange:a,required:!0})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var t=e.text,n=e.onDelete;return Object(l.jsx)("button",{type:"button",onClick:n,children:t})},d=function(e){var t=e.filteredPersons,n=e.onDelete;return Object(l.jsx)("div",{children:t.map((function(e,t){var r=e.name,a=e.number,c=e.id;return Object(l.jsxs)("div",{children:[r," ",a,Object(l.jsx)(j,{text:"delete",onDelete:function(){return n(c,r)}})]},t)}))})},h=function(e){var t=e.onSearchChange;return Object(l.jsxs)("div",{children:["Filter shown with:",Object(l.jsx)("input",{type:"search",name:"filter",onChange:t})]})},m="api/persons",v=n(7),O=n.n(v),x=function(){var e=Object(b.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({baseURL:m,method:"get"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete("".concat(m,"/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post(m,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("".concat(m,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),y=(n(47),function(e){var t=e.message;return null===t?null:Object(l.jsx)("div",{className:"success",children:t})}),C=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(f.a)(c,2),j=s[0],m=s[1],v=Object(r.useState)(""),O=Object(f.a)(v,2),C=O[0],S=O[1],D=Object(r.useState)(""),N=Object(f.a)(D,2),L=N[0],P=N[1],T=Object(r.useState)(null),A=Object(f.a)(T,2),E=A[0],q=A[1],J=function(){var e=Object(b.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(i.a.mark((function e(t){var r,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(""),S(""),!(r=n.find((function(e){return e.name.toLowerCase()===j.toLowerCase().trim()})))||window.confirm("Are you want to update ".concat(r.name," contact?"))){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=13;break}return e.next=9,g(r.id,Object(o.a)(Object(o.a)({},r),{},{number:C.trim()}));case 9:c=e.sent,a(Object(u.a)(n.map((function(e){return e.id===c.id?c:e})))),q("Person has been succesfully updated"),setTimeout((function(){return q(null)}),2e3);case 13:if(r){e.next=21;break}return r={name:j.trim(),number:C.trim()},e.next=17,k(r);case 17:s=e.sent,a([].concat(Object(u.a)(n),[s])),q("Person has been succesfully added"),setTimeout((function(){return q(null)}),2e3);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(i.a.mark((function e(t,r){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you want to delete ".concat(r," contact?"))){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,w(t);case 6:c=e.sent,o=c.id,a(Object(u.a)(n.filter((function(e){return e.id!==o})))),q("Deleted successfully"),setTimeout((function(){return q(null)}),2e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){J()}),[]),Object(r.useEffect)((function(){if(E){var e=setTimeout((function(){q(null)}),2e3);return function(){e&&clearTimeout(e)}}}),[E]);var I=n.filter((function(e){return e.name.toLowerCase().includes(L.toLowerCase().trim())}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(y,{message:E}),Object(l.jsx)(h,{onSearchChange:function(e){P(e.target.value)}}),Object(l.jsx)("h3",{children:"Add a new"}),Object(l.jsx)(p,{onNumberChange:function(e){S(e.target.value)},onNameChange:function(e){m(e.target.value)},name:j,number:C,onSubmit:B}),Object(l.jsx)("h3",{children:"Numbers"}),Object(l.jsx)(d,{filteredPersons:I,onDelete:F})]})};c.a.render(Object(l.jsx)(C,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.f38ea2a4.chunk.js.map