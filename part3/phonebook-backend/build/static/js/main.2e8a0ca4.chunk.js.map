{"version":3,"sources":["api/index.js","components/add-contact-form.component.jsx","components/button.component.jsx","components/person-list.component.jsx","components/filter-field.component.jsx","components/notification.component.jsx","App.js","index.js"],"names":["BASE_URL","addPerson","person","axios","post","editPerson","id","patch","deletePerson","delete","AddContactForm","onSubmit","name","number","onNumberChange","onNameChange","value","onChange","required","type","Button","text","onDelete","onClick","PersonList","filteredPersons","map","idx","FilterField","onSearchChange","Notification","message","className","success","App","useState","persons","setPersons","setName","setNumber","search","setSearch","setMessage","handleSubmit","event","a","preventDefault","find","p","toLowerCase","trim","window","confirm","api","response","newPerson","data","setTimeout","error","handleDelete","filter","useEffect","get","then","clearTimeout","includes","target","ReactDOM","render","document","getElementById"],"mappings":"8NAEMA,EAAW,cAIJC,EAAY,SAAAC,GAAM,OAAIC,IAAMC,KAAKJ,EAAUE,IAE3CG,EAAa,SAACC,EAAIJ,GAAL,OACxBC,IAAMI,MAAN,UAAeP,EAAf,YAA2BM,GAAMJ,IAEtBM,EAAe,SAAAF,GAAE,OAAIH,IAAMM,OAAN,UAAgBT,EAAhB,YAA4BM,K,OCoB/CI,EA7BQ,SAAC,GAMjB,IALLC,EAKI,EALJA,SACAC,EAII,EAJJA,KACAC,EAGI,EAHJA,OACAC,EAEI,EAFJA,eACAC,EACI,EADJA,aAEA,OACE,uBAAMJ,SAAUA,EAAhB,UACE,wCAEE,uBAAOC,KAAK,OAAOI,MAAOJ,EAAMK,SAAUF,EAAcG,UAAQ,OAElE,0CAEE,uBACEN,KAAK,SACLI,MAAOH,EACPI,SAAUH,EACVI,UAAQ,OAGZ,8BACE,wBAAQC,KAAK,SAAb,uBCfOC,EARA,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACtB,OACE,wBAAQH,KAAK,SAASI,QAASD,EAA/B,SACGD,KCWQG,EAbI,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,gBAAiBH,EAAe,EAAfA,SACrC,OACE,8BACGG,EAAgBC,KAAI,WAAuBC,GAAvB,IAAGf,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAQP,EAAjB,EAAiBA,GAAjB,OACnB,gCACGM,EADH,IACUC,EACR,cAAC,EAAD,CAAQQ,KAAK,SAASC,SAAU,kBAAMA,EAAShB,EAAIM,QAF3Ce,SCIHC,EATK,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eACrB,OACE,qDAEE,uBAAOV,KAAK,SAASP,KAAK,SAASK,SAAUY,QCQpCC,G,MAVM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAWD,EAAQE,QAAU,UAAY,OAA9C,SAAuDF,EAAQV,SC8HpDa,EAhIH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAwBF,mBAAS,IAAjC,mBAAOvB,EAAP,KAAa0B,EAAb,KACA,EAA4BH,mBAAS,IAArC,mBAAOtB,EAAP,KAAe0B,EAAf,KACA,EAA4BJ,mBAAS,IAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA8BN,mBAAS,MAAvC,mBAAOJ,EAAP,KAAgBW,EAAhB,KAEMC,EAAY,uCAAG,WAAgBC,GAAhB,uBAAAC,EAAA,yDACnBD,EAAME,iBACNR,EAAQ,IACRC,EAAU,MAENrC,EAASkC,EAAQW,MACnB,SAAAC,GAAC,OAAIA,EAAEpC,KAAKqC,gBAAkBrC,EAAKqC,cAAcC,WANhC,oBAWWC,OAAOC,QAAP,iCACAlD,EAAOU,KADP,cAXX,wDAgBjBV,EAAM,2BAAQA,GAAR,IAAgBW,OAAQA,EAAOqC,SAhBpB,mBAmBQG,EAAenD,EAAOI,GAAIJ,GAnBlC,QAmBToD,EAnBS,OAoBTC,EAAYD,EAASE,KAC3BnB,EAAW,YAAID,EAAQV,KAAI,SAAAsB,GAAC,OAAKA,EAAE1C,KAAOJ,EAAOI,GAAKiD,EAAYP,OAClEN,EAAW,CACTT,SAAS,EACTZ,KAAM,wCAERoC,YAAW,kBAAMf,EAAW,QAAO,KA1BpB,kDA4BfA,EAAW,CAAET,SAAS,EAAOZ,KAAM,KAAMiC,SAASE,KAAKE,QA5BxC,WAiCdxD,EAjCc,wBAkCjBA,EAAS,CACPU,KAAMA,EAAKsC,OACXrC,OAAQA,EAAOqC,QApCA,oBAuCQG,EAAcnD,GAvCtB,QAuCToD,EAvCS,OAwCTC,EAAYD,EAASE,KAC3BnB,EAAW,GAAD,mBAAKD,GAAL,CAAcmB,KACxBb,EAAW,CAAET,SAAS,EAAMZ,KAAM,sCAClCoC,YAAW,kBAAMf,EAAW,QAAO,KA3CpB,mDA6CfA,EAAW,CAAET,SAAS,EAAOZ,KAAM,KAAMiC,SAASE,KAAKE,QA7CxC,kEAAH,sDAkDZC,EAAY,uCAAG,WAAgBrD,EAAIM,GAApB,SAAAiC,EAAA,yDACSM,OAAOC,QAAP,iCACAxC,EADA,cADT,0EAMXyC,EAAiB/C,GANN,OAOjB+B,EAAW,YAAID,EAAQwB,QAAO,SAAAZ,GAAC,OAAIA,EAAE1C,KAAOA,OAC5CoC,EAAW,CAAET,SAAS,EAAMZ,KAAM,yBAClCoC,YAAW,kBAAMf,EAAW,QAAO,KATlB,kDAWjBA,EAAW,CAAET,SAAS,EAAOZ,KAAM,KAAMiC,SAASE,KAAKE,QAXtC,0DAAH,wDAelBG,qBAAU,WN5EuB1D,IAAM2D,IAAI9D,GM+EtC+D,MAAK,SAAAT,GAAQ,OAAIA,EAASE,QAC1BO,MAAK,SAAA3B,GAAO,OAAIC,EAAWD,QAC7B,IAEHyB,qBAAU,WACR,GAAK9B,EAAL,CAGA,IAAMzB,EAAKmD,YAAW,WACpBf,EAAW,QACV,KACH,OAAO,WACDpC,GACF0D,aAAa1D,OAGhB,CAACyB,IAEJ,IAYMN,EAAkBW,EAAQwB,QAAO,SAAA1D,GAAM,OAC3CA,EAAOU,KAAKqC,cAAcgB,SAASzB,EAAOS,cAAcC,WAG1D,OACE,gCACE,2CACA,cAAC,EAAD,CAAcnB,QAASA,IACvB,cAAC,EAAD,CAAaF,eAZU,SAAUe,GACnCH,EAAUG,EAAMsB,OAAOlD,UAYrB,mDACA,cAAC,EAAD,CACEJ,KAAMA,EACNC,OAAQA,EACRC,eArBqB,SAAU8B,GACnCL,EAAUK,EAAMsB,OAAOlD,QAqBnBD,aA1BmB,SAAU6B,GACjCN,EAAQM,EAAMsB,OAAOlD,QA0BjBL,SAAUgC,IAEZ,yCACA,cAAC,EAAD,CAAYlB,gBAAiBA,EAAiBH,SAAUqC,QC/H9DQ,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.2e8a0ca4.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst BASE_URL = 'api/persons'\r\n\r\nexport const getAllPersons = () => axios.get(BASE_URL)\r\n\r\nexport const addPerson = person => axios.post(BASE_URL, person)\r\n\r\nexport const editPerson = (id, person) =>\r\n  axios.patch(`${BASE_URL}/${id}`, person)\r\n\r\nexport const deletePerson = id => axios.delete(`${BASE_URL}/${id}`)\r\n","import React from 'react'\r\n\r\nconst AddContactForm = ({\r\n  onSubmit,\r\n  name,\r\n  number,\r\n  onNumberChange,\r\n  onNameChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name:\r\n        <input name='name' value={name} onChange={onNameChange} required />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input\r\n          name='number'\r\n          value={number}\r\n          onChange={onNumberChange}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddContactForm\r\n","import React from \"react\";\r\n\r\nconst Button = ({ text, onDelete }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onDelete}>\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react'\r\nimport Button from './button.component'\r\n\r\nconst PersonList = ({ filteredPersons, onDelete }) => {\r\n  return (\r\n    <div>\r\n      {filteredPersons.map(({ name, number, id }, idx) => (\r\n        <div key={idx}>\r\n          {name} {number}\r\n          <Button text='delete' onDelete={() => onDelete(id, name)} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonList\r\n","import React from 'react';\r\n\r\nconst FilterField = ({ onSearchChange }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with:\r\n      <input type='search' name='filter' onChange={onSearchChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterField;\r\n","import React from 'react'\r\n\r\nimport './notification.style.css'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={message.success ? 'success' : 'fail'}>{message.text}</div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\r\nimport * as api from './api/index'\r\n\r\nimport AddContactForm from './components/add-contact-form.component'\r\nimport PersonList from './components/person-list.component'\r\nimport FilterField from './components/filter-field.component'\r\nimport Notification from './components/notification.component'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [name, setName] = useState('')\r\n  const [number, setNumber] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  const handleSubmit = async function (event) {\r\n    event.preventDefault()\r\n    setName('')\r\n    setNumber('')\r\n\r\n    let person = persons.find(\r\n      p => p.name.toLowerCase() === name.toLowerCase().trim()\r\n    )\r\n\r\n    // if person already on contact\r\n    if (person) {\r\n      const confirmationMessage = window.confirm(\r\n        `Are you want to update ${person.name} contact?`\r\n      )\r\n      if (!confirmationMessage) return\r\n\r\n      person = { ...person, number: number.trim() }\r\n\r\n      try {\r\n        const response = await api.editPerson(person.id, person)\r\n        const newPerson = response.data\r\n        setPersons([...persons.map(p => (p.id === person.id ? newPerson : p))])\r\n        setMessage({\r\n          success: true,\r\n          text: 'Person has been succesfully updated',\r\n        })\r\n        setTimeout(() => setMessage(null), 2000)\r\n      } catch (error) {\r\n        setMessage({ success: false, text: error.response.data.error })\r\n      }\r\n    }\r\n\r\n    // if person is not already on contact\r\n    if (!person) {\r\n      person = {\r\n        name: name.trim(),\r\n        number: number.trim(),\r\n      }\r\n      try {\r\n        const response = await api.addPerson(person)\r\n        const newPerson = response.data\r\n        setPersons([...persons, newPerson])\r\n        setMessage({ success: true, text: 'Person has been succesfully added' })\r\n        setTimeout(() => setMessage(null), 2000)\r\n      } catch (error) {\r\n        setMessage({ success: false, text: error.response.data.error })\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDelete = async function (id, name) {\r\n    const confirmationMessage = window.confirm(\r\n      `Are you want to delete ${name} contact?`\r\n    )\r\n    if (!confirmationMessage) return\r\n    try {\r\n      await api.deletePerson(id)\r\n      setPersons([...persons.filter(p => p.id !== id)])\r\n      setMessage({ success: true, text: 'Deleted successfully' })\r\n      setTimeout(() => setMessage(null), 2000)\r\n    } catch (error) {\r\n      setMessage({ success: false, text: error.response.data.error })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getAllPersons()\r\n      .then(response => response.data)\r\n      .then(persons => setPersons(persons))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!message) {\r\n      return\r\n    }\r\n    const id = setTimeout(() => {\r\n      setMessage(null)\r\n    }, 2000)\r\n    return () => {\r\n      if (id) {\r\n        clearTimeout(id)\r\n      }\r\n    }\r\n  }, [message])\r\n\r\n  const handleNameChange = function (event) {\r\n    setName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = function (event) {\r\n    setNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = function (event) {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const filteredPersons = persons.filter(person =>\r\n    person.name.toLowerCase().includes(search.toLowerCase().trim())\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <FilterField onSearchChange={handleSearchChange} />\r\n      <h3>Add a new contact</h3>\r\n      <AddContactForm\r\n        name={name}\r\n        number={number}\r\n        onNumberChange={handleNumberChange}\r\n        onNameChange={handleNameChange}\r\n        onSubmit={handleSubmit}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <PersonList filteredPersons={filteredPersons} onDelete={handleDelete} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}