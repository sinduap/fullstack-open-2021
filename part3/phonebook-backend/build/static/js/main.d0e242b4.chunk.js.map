{"version":3,"sources":["components/add-contact-form.component.jsx","components/button.component.jsx","components/person-list.component.jsx","components/filter-field.component.jsx","config.js","helpers.js","components/notification.component.jsx","App.js","index.js"],"names":["AddContactForm","handleSubmit","name","number","handleNumberChange","handleNameChange","onSubmit","value","onChange","required","type","Button","text","handleDelete","onClick","PersonList","filteredPersons","map","idx","id","FilterField","handleSearchChange","API_URL","getPersons","a","axios","baseURL","method","response","data","console","error","deletePerson","delete","addPerson","person","post","editPerson","put","Notification","message","className","App","useState","persons","setPersons","setName","setNumber","search","setSearch","setMessage","loadPersons","event","preventDefault","find","toLowerCase","trim","window","confirm","setTimeout","length","useEffect","clearTimeout","filter","includes","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d0e242b4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst AddContactForm = ({\r\n  handleSubmit,\r\n  name,\r\n  number,\r\n  handleNumberChange,\r\n  handleNameChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name:{' '}\r\n        <input name='name' value={name} onChange={handleNameChange} required />\r\n      </div>\r\n      <div>\r\n        number:{' '}\r\n        <input\r\n          name='number'\r\n          value={number}\r\n          onChange={handleNumberChange}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddContactForm;\r\n","import React from \"react\";\r\n\r\nconst Button = ({ text, handleDelete }) => {\r\n  return (\r\n    <button type=\"button\" onClick={handleDelete}>\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Button from \"./button.component\";\r\n\r\nconst PersonList = ({ filteredPersons, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      {filteredPersons.map(({ name, number, id }, idx) => (\r\n        <div key={idx}>\r\n          {name} {number}\r\n          <Button text=\"delete\" handleDelete={() => handleDelete(id, name)} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","import React from 'react';\r\n\r\nconst FilterField = ({ handleSearchChange }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with:\r\n      <input type='search' name='filter' onChange={handleSearchChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterField;\r\n","export const API_URL = 'http://localhost:3001/api/persons/'\r\n","import { API_URL } from './config'\r\nimport axios from 'axios'\r\n\r\nexport const getPersons = async () => {\r\n  try {\r\n    const response = await axios({\r\n      baseURL: API_URL,\r\n      method: 'get',\r\n    })\r\n    return response.data\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const deletePerson = async id => {\r\n  try {\r\n    await axios.delete(`${API_URL}${id}`)\r\n    return 'Person had been deleted'\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const addPerson = async person => {\r\n  try {\r\n    await axios.post(API_URL, person)\r\n    return 'Person had been added'\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const editPerson = async (id, person) => {\r\n  try {\r\n    await axios.put(`${API_URL}${id}`, person)\r\n\r\n    return 'Person had been updated'\r\n  } catch (error) {\r\n    console.error(error)\r\n    throw error\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport './notification.style.css';\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className='success'>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react'\r\nimport AddContactForm from './components/add-contact-form.component'\r\nimport PersonList from './components/person-list.component'\r\nimport FilterField from './components/filter-field.component'\r\nimport { getPersons, addPerson, deletePerson, editPerson } from './helpers'\r\nimport Notification from './components/notification.component'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [name, setName] = useState('')\r\n  const [number, setNumber] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const loadPersons = async function () {\r\n    const data = await getPersons()\r\n    setPersons(data)\r\n  }\r\n\r\n  const handleSubmit = async function (event) {\r\n    event.preventDefault()\r\n    setName('')\r\n    setNumber('')\r\n\r\n    let person = persons.find(\r\n      person => person.name.toLowerCase() === name.toLowerCase().trim()\r\n    )\r\n\r\n    // if person already on contact\r\n    if (\r\n      person &&\r\n      !window.confirm(`Are you want to update ${person.name} contact?`)\r\n    )\r\n      return\r\n\r\n    if (person) {\r\n      const message = await editPerson(person.id, {\r\n        ...person,\r\n        number: number.trim(),\r\n      })\r\n      setMessage(message)\r\n      setTimeout(() => setMessage(null), 2000)\r\n    }\r\n\r\n    // if person is not already on contact\r\n    if (!person) {\r\n      person = {\r\n        id: persons.length + 1,\r\n        name: name.trim(),\r\n        number: number.trim(),\r\n      }\r\n      const message = await addPerson(person)\r\n      setMessage(message)\r\n      setTimeout(() => setMessage(null), 2000)\r\n    }\r\n\r\n    loadPersons()\r\n  }\r\n\r\n  const handleDelete = async function (id, name) {\r\n    const confirmationMessage = window.confirm(\r\n      `Are you want to delete ${name} contact?`\r\n    )\r\n    if (!confirmationMessage) return\r\n    try {\r\n      const message = await deletePerson(id)\r\n      setMessage(message)\r\n      setTimeout(() => setMessage(null), 2000)\r\n      loadPersons()\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  useEffect(loadPersons, [])\r\n\r\n  useEffect(() => {\r\n    if (!message) {\r\n      return\r\n    }\r\n\r\n    const id = setTimeout(() => {\r\n      setMessage(null)\r\n    }, 2000)\r\n\r\n    return () => {\r\n      if (id) {\r\n        clearTimeout(id)\r\n      }\r\n    }\r\n  }, [message])\r\n\r\n  const handleNameChange = function (event) {\r\n    setName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = function (event) {\r\n    setNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = function (event) {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const filteredPersons = persons.filter(person =>\r\n    person.name.toLowerCase().includes(search.toLowerCase().trim())\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <FilterField handleSearchChange={handleSearchChange} />\r\n      <h3>Add a new</h3>\r\n      <AddContactForm\r\n        handleNumberChange={handleNumberChange}\r\n        handleNameChange={handleNameChange}\r\n        name={name}\r\n        number={number}\r\n        handleSubmit={handleSubmit}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <PersonList\r\n        filteredPersons={filteredPersons}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}